@model GPSInformation.Models.SalaReservacion
@{
    GPSInformation.Models.Sala Sala = (GPSInformation.Models.Sala)ViewBag.Sala;
    DateTime dateTime = DateTime.Parse(Model.FechaInicio.ToString("yyyy-MM-dd 00:00:00"));

    dateTime = dateTime.Date + Model.HoraIncio;
}

<div data-label="Detalle" class="df-example demo-forms" id="app_createPermiso">
    <h4>I. Solicitante</h4>
    <hr />
    @await Component.InvokeAsync("ValidPuestoEnOrganigrama", new { id = Model.IdPersona })
    @*@await Component.InvokeAsync("EmpleadoBasic", new { id = Model.IdPersona })*@
    <h4>II. Detalle de la reservación @dateTime</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            Sala
        </dt>
        <dd>
            @Sala.Nombre
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Motivo)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Motivo)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Comentarios)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Comentarios)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.FechaInicio)
        </dt>
        <dd>
            @Model.FechaInicio.ToString("yyyy-MM-dd")
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.HoraIncio)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.HoraIncio)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.HolaFin)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.HolaFin)
        </dd>
    </dl>
    @if ((int)ViewBag.IdPersona == Model.IdPersona)
    {
        @if (DateTime.Now < dateTime)
        {
            <div class="form-group row mg-b-0">
                <div class="col-sm-12 text-right">
                    <button type="button" onclick="App_calendar.EditReservacion(@Model.IdSalaReservacion)" class="btn btn-sm btn-primary">Editar</button>
                    <button type="button" onclick="App_calendar.Delete(@Model.IdSalaReservacion)" class="btn btn-sm btn-danger">Eliminar</button>
                </div>
            </div>
        }
        else
        {
            <div class="alert  alert-warning col-12" role="alert">
                <p>Solo lectura, la reservación ha comenzado o ha finalizado</p>
            </div>
        }

    }
</div>

